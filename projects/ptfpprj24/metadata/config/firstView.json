{
    "definition": {
        "n_columns": 12,
        "n_rows": 10,
        "chars_column": 10,
        "rows_row": 1
    },
    "groups": {
        "authorship": {
            "parent": "",
            "label": "Autoria",
            "n_columns": 12,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":false
            }
        },
        "dadesBasiques": {
            "parent": "",
            "label":"Dades bàsiques",
            "n_columns": 12,
            "n_rows": 1,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":false
            }
        },
        "avaluacio": {
            "parent": "",
            "label": "Sobre l'avaluació",
            "n_columns": 12,
            "n_rows": 1,
            "frame": true,
            "config":{
                "collapsable":true,
                "collapsed":false
            }
        }
    },
    "fields": {
        "tipusBlocModul":{
          "type" : "hidden"
        },
        "moodleCourseId": {
          "label" : "Identificador del curs a moodle (moodleCourseId)",
          "n_columns": 3,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "Indiqueu el valor de l'identificador del curs de moodle al que pertany aquest pla de treball. Si no hi poseu un valor correcte no es pujaran les dades al calendari."
          }
        },      

        "cicle": {
          "label" : "Nom del cicle (cicle)",
          "n_columns": 6,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "indiqueu el nom del cicle"
          }
        },
        "duradaCicle": {
            "type": "hidden"
        },
        "nsProgramacio": {
            "type": "amd",
            "label": "Programació importada (nsProgramacio)",
            "n_columns": 2,
            "group": "dadesBasiques",
            "props": {
                "required": true,
                "title": "indiqueu la programació importada"
            },
            "config":{
                "readonly": {"and":[{"class":"ValidationByRoles", "data":{"roles":["responsable"], "deniedResponse":true}},
                                    {"class":"ValidationByGroups", "data":{"groups":["admin"], "deniedResponse":true}}]
                },
                "class" : {
                    "edit": "IocImportTree",
                    "view": "IocImportSelectedItem"
                },
                "data": {
                    "ns": "",
                    "fieldName": "nsProgramacio",
                    "dialogTitle": "Seleccionar Programació",
                    "dialogMessage": "Selecciona una programació",
                    "dialogButtonLabel": "Afegir Programació",
                    "searchDataUrl": "lib/exe/ioc_ajaxrest.php/ns_tree_rest/",
                    "projectType": ["prgfploe", "prgfplogse"]
                }
            }
        },         
        "modulId": {
          "label" : "Codi del mòdul (modulId)",
          "n_columns": 2,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "indiqueu el codi del mòdul en format MXX. Per exemple: M02"
          }
        },
       
        "modul": {
          "label" : "Nom del mòdul (modul)",
          "n_columns": 8,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "indiqueu el nom del mòdul. Per exemple: Seguretat i alta disponibilitat"
          }
        },
        "durada": {
          "label" : "Durada (durada)",
          "n_columns": 2,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "readonly": true,
            "title": "Aquest és un camp calculat. No l'heu d'introduir"
          }
        },
        "coordinador": {
          "label" : "Coordinador (coordinador)",
          "n_columns": 6,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "Indiqueu el nom del coordinador"
          }
        },
        "professors": {
          "label" : "Professors (professors)",
          "n_columns": 6,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "Indiqueu el/s nom/s del/s professor/s"
          }
        },
        "urlMaterialDidactic": {
            "type": "hidden"
        },
        "dedicacio": {
          "type":"number",
          "label" : "Dedicació setmanal (dedicacio)",
          "n_columns": 4,
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "indiqueu el número d'hores de dedicació setmanal"
          }
        },
        "descripcio": {
            "type": "hidden"
        },
        "requerimentsMatricula": {
          "n_columns": 12,
          "label" : "Requisits (requerimentsMatricula)",
          "group": "dadesBasiques",
          "props": {
            "required": true,
            "title": "indiqueu quins són els requeriments de la matrícula d'aquest mòdul"
          }
        },

        "resultatsAprenentatge": {
          "label": "Resultats d'aprenentatge (resultatsAprenentatge)",
          "n_columns": 12,
          "type": "editableObject",
          "group": "dadesBasiques",
          "n_rows": 8,
          "props": {
            "data-editable-element": "table",
            "title": "Detalleu els resultats d'aprenentatge."
          },
          "config": {
            "actions": {
              "add_default_row": "Afegir RA",
              "remove_rows": "Eliminar els RA seleccionats",
              "add_default_row_before": "Afegir RA abans de la fila seleccionada"
            },
            "fields": {
              "id": {
                "type": "string"
              },
              "descripcio": {
                "type": "string"
              },
              "ponderaRA": {
                "type": "decimal"
              }
            }
          }
        },
        "taulaDadesUn": {
          "label": "LLiuraments (taulaDadesUn)",
          "n_columns": 12,
          "type": "editableObject",
          "group": "dadesBasiques",
          "n_rows": 5,
          "props": {
            "data-editable-element": "table",
            "title": "Detalleu les dades de cada lliurament."
          },
          "config": {
            "actions": {
              "set_multiple_default_rows": "Definir el nombre de lliuraments del mòdul",
              "remove_rows": "Eliminar els lliuraments seleccionats",
              "add_default_row_before": "Afegir lliurament abans de la fila seleccionada"
            },
            "fields": {
              "unitat": {
                "type": "number"
              },
              "nom": {
                "type": "string"
              },
              "ordreImparticio":{
                "type": "number"
              },
              "hores": {
                "type": "number"
              },
              "ponderació": {
                "type": "decimal"
              }
            },
            "layout": [
              {
                "defaultCell": {
                  "width": "5%"
                },
                "cells": [
                  {
                    "name": "id",
                    "field": "unitat",
                    "editable": true
                  },
                  {
                    "name": "nom",
                    "field": "nom",
                    "width":"40%",
                    "editable": true
                  },
                  {
                    "name": "Ordre d'impartició",
                    "field": "ordreImparticio",
                    "editable": true
                  },
                  {
                    "name": "hores",
                    "field": "hores",
                    "editable": true
                  },
                  {
                    "name": "ponderació",
                    "field": "ponderació",
                    "constraints": "{\"places\":2}",
                    "editable": true
                  }
                ]
              }
            ]
          }
        },
        "taulaUnitatRAs":  {
            "type": "hidden"
        },
        "calendari":  {
            "type": "hidden"
        }, 

        "datesAC": {
          "label":"Dates lliuraments (datesLl)",
          "n_columns": 12,
          "type": "editableObject",
          "group": "avaluacio",
          "n_rows": 4,
          "props": {
            "data-editable-element": "table",
            "title": "Detalleu les dates importants de l'AC"
          },
          "config": {
            "actions": {
              "add_default_row": "Afegir un nou lliurament",
              "remove_rows": "Eliminar els lliuraments seleccionats",
              "add_default_row_before": "Afegir lliurament abans de la fila seleccionada"
            },
            "fields": {
              "unitat": {
                "type": "number"
              },
              "enunciat": {
                "type": "date"
              },
              "lliurament": {
                "type": "date"
              },
              "qualificació": {
                "type": "date"
              }
            },
            "layout": [
              {
                "defaultCell": {
                  "width" : "21%",
                  "editable": true
                },
                "cells": [
                  {
                    "name": "unitat",
                    "field": "unitat",
                    "width": "5%"
                  },
                  {
                    "name": "enunciat",
                    "field": "enunciat"
                  },
                  {
                    "name": "lliurament",
                    "field": "lliurament"
                  },
                  {
                    "name": "qualificació",
                    "field": "qualificació"
                  }
                ]
              }
            ]
          }
        },
                
        "dataRecuSem1Inici": {
          "label": "Data recuperació 1r semestre. Inici.",
          "n_columns":4,
          "group": "avaluacio",
          "props": {
            "required": true,
            "title": "Indiqueu la data en que comença la recuperació semestre 1"
          }
        },
        "dataRecuSem1Fi": {
          "label": "Data recuperació 1r semestre. Fi.",
          "n_columns":4,
          "group": "avaluacio",
          "props": {
            "required": true,
            "title": "Indiqueu la data en que finalitza la recuperació semestre 1"
          }
        },
        "dataRecuQualificacioSem1": {
          "label": "Data de la qualificació de la recuperació semestre 1 (dataQualificacioSem1)",
          "n_columns":4,
          "group": "avaluacio",
          "props": {
            "required": true,
            "title": "Indiqueu la data en que es publicarà la qualificació de recuperació del semestre 1"
          }
        },

        "dataRecuSem2Inici": {
          "label": "Data recuperació 2n semestre. Inici.",
          "n_columns":4,
          "group": "avaluacio",
          "props": {
            "required": true,
            "title": "Indiqueu la data en que comença la recuperació semestre 2"
          }
        },
        "dataRecuSem2Fi": {
          "label": "Data recuperació 2n semestre. Fi.",
          "n_columns":4,
          "group": "avaluacio",
          "props": {
            "required": true,
            "title": "Indiqueu la data en que finalitza la recuperació semestre 2"
          }
        },
        "dataRecuQualificacioSem2": {
          "label": "Data de la qualificació de la recuperació del semestre 2 (dataQualificacioSem1)",
          "n_columns":4,
          "group": "avaluacio",
          "props": {
            "required": true,
            "title": "Indiqueu la data en que es publicarà la qualificació de recuperació del semestre 2"
          }
        },                
        
        "responsable": {
          "type": "amd",
          "label": "Responsable de la creació (responsable)",
          "n_columns": 4,
          "group": "authorship",
          "props": {
              "required": true
          },
          "config":{
            "readonly": {"and":[{"class":"ValidationByRoles", "data":{"roles":["responsable"], "deniedResponse":true}}, {"class":"ValidationByGroups", "data":{"groups":["admin"], "deniedResponse":true}}]},
            "class" : {
              "edit": "IocFilteredList",
              "view": "IocListSelectedItems"
            },
            "data": {
              "ns":"",
              "buttonLabel": "Cercar",
              "fieldName": "responsable",
              "dialogTitle" : "Cercar responsable",
              "dialogButtonLabel" : "Afegir responsable",
              "data": "",
              "dataQuery": {
                "filter": ""
              },
              "searchDataUrl": "lib/exe/ioc_ajax.php?call=user_list",
              "fields": {
                "username": "Nom d'usuari",
                "name": "Nom"
              },
              "fieldId": "username",
              "defaultEntryField": "name"
            }
          }
        },
        "autor": {
          "type": "amd",
          "label": "Autor (autor)",
          "n_columns": 4,
          "group": "authorship",
          "props": {
              "required": true
          },
          "config":{
            "readonly": {"and":[{"class":"ValidationByRoles", "data":{"roles":["responsable"], "deniedResponse":true}}, {"class":"ValidationByGroups", "data":{"groups":["admin"], "deniedResponse":true}}]},
            "class" : {
              "edit": "IocFilteredList",
              "view": "IocListSelectedItems"
            },
            "data": {
              "ns":"",
              "buttonLabel": "Cercar",
              "fieldName": "autor",
              "dialogTitle" : "Cercar autor",
              "dialogButtonLabel" : "Afegir autor",
              "data": "",
              "dataQuery": {
                "filter": ""
              },
              "searchDataUrl": "lib/exe/ioc_ajax.php?call=user_list",
              "fields": {
                "username": "Nom d'usuari",
                "name": "Nom"
              },
              "fieldId": "username",
              "defaultEntryField": "name"
            }
          }
        },
        "supervisor": {
          "type": "amd",
          "label": "Supervisor (supervisor)",
          "n_columns": 4,
          "group": "authorship",
          "props": {
              "required": true
          },
          "config":{
            "readonly": {"and":[{"class":"ValidationByRoles", "data":{"roles":["responsable"], "deniedResponse":true}}, {"class":"ValidationByGroups", "data":{"groups":["admin"], "deniedResponse":true}}]},
            "class" : {
              "edit": "IocFilteredList",
              "view": "IocListSelectedItems"
            },
            "data": {
              "ns":"",
              "buttonLabel": "Cercar",
              "fieldName": "supervisor",
              "dialogTitle" : "Cercar supervisor",
              "dialogButtonLabel" : "Afegir supervior",
              "data": "",
              "dataQuery": {
                "filter": ""
              },
              "searchDataUrl": "lib/exe/ioc_ajax.php?call=user_list",
              "fields": {
                "username": "Nom d'usuari",
                "name": "Nom"
              },
              "fieldId": "username",
              "defaultEntryField": "name"
            }
          }
        },
        "plantilla": {
          "type" : "hidden"
        },
        "fitxercontinguts": {
          "type" : "hidden"
        },
        "semestre": {
          "type" : "hidden"
        },
        "dadesExtres": {
          "type" : "hidden"
        }
    }
}
